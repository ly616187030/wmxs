<?php// +----------------------------------------------------------------------// | OneThink [ WE CAN DO IT JUST THINK IT ]// +----------------------------------------------------------------------// | Copyright (c) 2013 http://www.onethink.cn All rights reserved.// +----------------------------------------------------------------------// | Author: zhuyajie <xcoolcc@gmail.com>// +----------------------------------------------------------------------namespace Admin\Model;use Think\Model;/** * 权限规则模型 * @author 朱亚杰 <zhuyajie@topthink.net> */class AuthRuleModel extends Model{    protected $tableName = 'auth_rule';    const RULE_URL = 1;    const RULE_MAIN = 2;    public function getAuthRule($uid=null){        $uid = is_null($uid) ? is_login() : $uid;        if(is_administrator($uid)){            $list = $this                ->alias('a')                ->join('__MENU__ AS m ON a.name=m.url')                ->field('m.*,a.id AS ruleid')                ->select();        }else{        }        return $list;    }}